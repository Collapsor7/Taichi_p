from matplotlib import pyplot as plt

nn = 3
n = 2
N = n * n
i = ((nn + n - 1) // n) - 1
j = N - (i+1) * n

print(i,j)

results = {'Threads=1, seperate': [0.08698487281799316, 0.12722277641296387, 0.28269505500793457, 0.5662872791290283, 0.8995151519775391, 1.9455101490020752, 3.5570788383483887, 5.443428993225098, 7.747436046600342, 10.606478929519653, 17.48893690109253, 22.12200379371643, 31.939817905426025, 43.3469877243042, 56.743489027023315, 72.79400134086609, 89.08467769622803],
         'Threads=1, together': [0.10596513748168945, 0.14902496337890625, 0.3178989887237549, 0.6000101566314697, 0.9234068393707275, 1.9978981018066406, 3.5728039741516113, 5.57355523109436, 7.851873159408569, 10.733845949172974, 17.657039880752563, 22.159754991531372, 31.945471048355103, 43.46283507347107, 57.3130202293396, 72.89983892440796, 89.11812090873718],
         'Threads=8, seperate': [0.08632874488830566, 0.1286461353302002, 0.2974419593811035, 0.5410940647125244, 0.8985412120819092, 1.9343690872192383, 3.546064853668213, 5.400338172912598, 7.782860040664673, 10.522096872329712, 17.45878505706787, 22.0281081199646, 31.749812126159668, 43.761861085891724, 58.53216624259949, 74.03260898590088, 89.70459008216858],
         'Threads=8, together': [0.10655426979064941, 0.1533980369567871, 0.31085801124572754, 0.5793857574462891, 0.9264781475067139, 1.9741039276123047, 3.522550106048584, 5.534543991088867, 7.8047168254852295, 10.641540765762329, 17.687562942504883, 22.244354963302612, 31.910401105880737, 43.53445291519165, 58.04212808609009, 73.46561813354492, 89.30590510368347],
         'Threads=16, seperate': [0.09000515937805176, 0.13260698318481445, 0.28568124771118164, 0.5414588451385498, 0.905433177947998, 1.945511817932129, 3.4786839485168457, 5.37692403793335, 7.935245037078857, 10.622432947158813, 17.692227840423584, 22.310534715652466, 31.82970690727234, 44.125561237335205, 58.69861102104187, 72.9476249217987, 89.44482088088989],
         'Threads=16, together': [0.11928081512451172, 0.15471410751342773, 0.31841516494750977, 0.5665693283081055, 0.9240982532501221, 1.992805004119873, 3.5500500202178955, 5.508656978607178, 7.91858696937561, 10.676705837249756, 17.82328510284424, 22.251245975494385, 31.934037923812866, 43.65330719947815, 57.90269494056702, 72.73848223686218, 89.11072206497192]}


plt.figure(figsize=(12, 6))
par = [10,25,50,75,100,150,200,250,300,350,450,500,600,700,800,900,1000]
# График времени выполнения
# plt.subplot(1, 2, 1)
for label, times in results.items():
    if "Dense" in label:
        label = "together"
    plt.plot(par, times, label=label, marker='o')
plt.xscale("log")
plt.yscale("log")
plt.xlabel("Число частиц в массиве")
plt.ylabel("Время выполнения (сек)")
plt.title("Зависимость времени выполнения от числа частиц в массиве")
plt.legend()