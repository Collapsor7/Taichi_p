results = {'Threads=1, Block=1': [8.910250902175903,],
           'Threads=8, Block=16': [],
           'Threads=8, Block=32': [],
           'Threads=16, Block=64': [],
           'Dense Memory': [],
           'Pointer Memory': [],
           'Vector Memory': [],
           'NumPy': []}

results = {'Threads=1, Block=1': [8.713061094284058, 8.850341796875, 8.731554985046387, 8.905839204788208, 10.73301076889038, 13.713858127593994, 20.303074836730957],
           'Threads=8, Block=16': [19.20356035232544, 19.725575923919678, 20.826151847839355, 22.81269598007202, 25.474303007125854, 29.31784701347351, 32.513943672180176],
           'Threads=8, Block=32': [19.208553075790405, 19.872944116592407, 20.887326955795288, 22.834471940994263, 25.242814779281616, 29.370311975479126, 32.552239179611206],
           'Threads=16, Block=64': [22.322103023529053, 23.821476221084595, 27.2171950340271, 32.511383056640625, 39.27103781700134, 44.00626087188721, 48.36047291755676],
           'Dense Memory': [19.24066996574402, 19.73774003982544, 20.91815209388733, 22.728965997695923, 25.313066005706787, 29.46302890777588, 31.51468276977539],
           'Pointer Memory': [19.824904918670654, 20.36667823791504, 21.662353038787842, 23.635751008987427, 26.138203859329224, 31.208086013793945, 33.895987033843994],
           'Vector Memory': [19.333292961120605, 19.867367029190063, 20.807841062545776, 22.517787218093872, 24.800984621047974, 28.899253368377686, 31.34823775291443],
           'NumPy': [23.648679971694946, 236.65820217132568, 1157.5404651165009, 2317.6022629737854, 4662.289824962616, 11572.016655921936, 37987.187806367874]}
results =  {'Threads=1, Block=1': [8.691170930862427, 8.891162157058716, 8.979730129241943, 13.610161781311035, 19.9249370098114, 62.65790104866028, 116.10238885879517, 168.15871000289917],
            'Threads=8, Block=16': [19.188020944595337, 19.61034607887268, 22.691009044647217, 29.159982681274414, 31.841485261917114, 37.52038598060608, 45.89256811141968, 53.15883994102478],
            'Threads=8, Block=32': [19.317267179489136, 19.25382900238037, 22.747438192367554, 29.17756700515747, 31.327653169631958, 37.980616331100464, 45.84836411476135, 53.59115386009216],
            'Threads=16, Block=64': [22.533036947250366, 23.78033709526062, 32.34207105636597, 43.68256878852844, 49.373650789260864, 55.02012491226196, 62.51404881477356, 69.30353999137878],
            'Dense Memory': [18.979230880737305, 19.696633100509644, 22.729859113693237, 29.277966260910034, 32.12774610519409, 36.86780118942261, 45.60850286483765, 52.898385763168335],
            'Pointer Memory': [19.841077089309692, 20.292725086212158, 23.524806022644043, 31.03373098373413, 33.30756616592407, 50.05161905288696, 70.09213304519653, 109.93782210350037],
            'Vector Memory': [19.332861185073853, 19.750710010528564, 22.51887798309326, 29.12619423866272, 32.06981706619263, 36.162692070007324, 43.25813102722168, 50.60608410835266],
            'GPU': [3.4373531341552734, 3.4189610481262207, 3.455451011657715, 3.420624017715454, 3.3364176750183105, 4.699993848800659, 8.21201777458191, 11.607140064239502]}

results =  {'Threads=1, Block=1': [8.714854955673218, 8.754024028778076, 8.944107055664062, 13.63897705078125, 18.90810227394104, 63.60096883773804, 115.29921984672546, 169.20881509780884, 220.69233894348145, 270.8187232017517, 328.2768943309784, 442.66732907295227, 530.5762898921967, 1089.2962517738342],
            'Threads=4, Block=8': [12.75070595741272, 13.01600193977356, 15.584745168685913, 18.04320216178894, 19.087559938430786, 34.64359974861145, 51.129968881607056, 68.07660222053528, 84.72335004806519, 99.3398609161377, 115.9042649269104, 148.68484926223755, 178.8769178390503, 339.960086107254],
            'Threads=8, Block=16': [19.142324924468994, 19.58922290802002, 22.811290979385376, 29.308178901672363, 31.1618070602417, 36.87347912788391, 45.66047692298889, 54.041929960250854, 62.258260011672974, 69.91359806060791, 77.92454791069031, 95.13269710540771, 110.78319692611694, 213.66876697540283],
            'Threads=8, Block=32': [19.121229887008667, 19.59472894668579, 22.783142805099487, 29.116899967193604, 31.386582136154175, 36.88251185417175, 45.76883006095886, 54.02974891662598, 62.15119409561157, 70.4320421218872, 78.20974898338318, 95.06429696083069, 109.4480550289154, 213.15717720985413],
            'Threads=16, Block=64': [22.539114952087402, 23.535659074783325, 32.56042695045471, 44.60444092750549, 49.14773893356323, 56.798731088638306, 63.25413131713867, 70.40664601325989, 78.00498914718628, 84.80100679397583, 93.15897583961487, 107.04622006416321, 123.12689685821533, 224.1352310180664],
            'Dense Memory': [19.097251892089844, 19.78912329673767, 22.713417053222656, 29.13363289833069, 31.264994144439697, 36.77699303627014, 45.58778214454651, 53.54588007926941, 62.008628845214844, 69.94779300689697, 78.09115695953369, 95.0630373954773, 109.61478400230408, 211.1949360370636],
            'Pointer Memory': [19.635927200317383, 20.322201013565063, 23.58431100845337, 30.707891941070557, 31.794241905212402, 49.077625036239624, 70.60179686546326, 94.03868794441223, 115.81283712387085, 137.42002177238464, 158.61465501785278, 206.5476188659668, 258.846027135849, 551.0535042285919],
            'Vector Memory': [19.149226903915405, 19.689029932022095, 22.540698051452637, 28.749725103378296, 31.202544927597046, 35.78943181037903, 43.38934516906738, 49.898669958114624, 57.1366012096405, 64.87421989440918, 70.35672307014465, 85.72849583625793, 98.74015784263611, 192.79097199440002],
            'GPU': [3.3521461486816406, 3.394883155822754, 3.353590965270996, 3.3762898445129395, 3.420156955718994, 4.838109970092773, 8.211664915084839, 11.830348014831543, 15.408848762512207, 19.12699294090271, 22.087198972702026, 28.957319974899292, 38.13473105430603, 110.02420973777771]}

import matplotlib.pyplot as plt
particle_counts = [10, 100, 500, 10 ** 3, 2 * 10 ** 3, 5 * 10 ** 3, 10 ** 4]
particle_counts = [10,100,1000,5000,10000,50000,100000,150000]
particle_counts = [10,100,1000,5000,10000,50000,100000,150000,200000,250000,300000,400000,500000,1000000]
plt.figure(figsize=(12, 6))
# plt.subplot(1)
for label, times in results.items():
    plt.plot(particle_counts, times, label=label, marker='o')
plt.xscale("log")
plt.yscale("log")
plt.xlabel("Число частиц в массиве")
plt.ylabel("Время выполнения (сек)")
plt.title("Зависимость времени выполнения от числа частиц в массиве")
plt.legend()

# # График ускорения относительно NumPy
# plt.subplot(1, 2, 2)
# for label, times in results.items():
#     if label != "NumPy":
#         speedup = [numpy_t / t for numpy_t, t in zip(results["NumPy"], times)]
#         plt.plot(particle_counts, speedup, label=label, marker='o')
# plt.xscale("log")
# plt.xlabel("Число частиц в массиве")
# plt.ylabel("Ускорение относительно NumPy)")
# plt.title("Зависимость ускорения от числа частиц в массиве")
# plt.legend()

plt.show()